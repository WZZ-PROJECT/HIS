{"version":3,"sources":["webpack:///src/views/patientPage.vue","webpack:///./src/api/modules/getDoctorAndSkd.js","webpack:///./src/views/patientPage.vue?d3c1","webpack:///./src/views/patientPage.vue","webpack:///./src/api/modules/attentionStaff.js","webpack:///./src/api/modules/TimeDifference.js"],"names":["patientPage","components","data","src","name","role","specialty","price","dept","staffId","this","$route","query","patientId","localStorage","skdList","skdAmList","skdPmList","timeArr1","flag","popup1","popup2","att","skdId","date","created","_this","request","url","method","then","res","console","log","staffName","title","deptName","advantages","state","picture","undefined","length","i","noon","push","$toast","methods","filter","type","options","option","onReturn","history","back","toFive","time","$router","path","deptId","yuyue","ruletime","_this2","Object","TimeDifference","attention","_this3","obj","attentionStaff","toPatientIntroduce","handleDateConfirm","_this4","$nextTick","views_patientPage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","justify","span","staticStyle","margin-left","margin-top","font-size","font-weight","_v","_s","color","width","height","padding","on","click","$event","text-align","background-color","border","outlin","border-radius","margin","_m","_l","item","index","key","line-height","week","class","remain","round","disabled","amount","style","position","overlay","closeable","model","value","callback","$$v","expression","display","item2","margin-bottom","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","d","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n"],"mappings":"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","file":"static/js/4.dd7a333351fdc750699f.js","sourcesContent":["<template>\r\n  <div>\r\n    <!-- <van-nav-bar\r\n      title=\"医生主页\"\r\n      left-arrow\r\n      style=\"height: 46px; margin-top: 0.5rem\"\r\n      @click-left=\"onReturn\"\r\n    /> -->\r\n    <div class=\"footer\">\r\n      <van-row type=\"flex\" justify=\"space-between\">\r\n        <van-col span=\"10\">\r\n          <div style=\"margin-left: 1rem\">\r\n            <div style=\"margin-top: 1rem\">\r\n              <span style=\"font-size: 1.3rem; font-weight: bold\">{{\r\n                name\r\n              }}</span>\r\n              <span style=\"font-size: 0.8rem; color: #adadad\">{{ role }}</span>\r\n            </div>\r\n            <div style=\"font-size: 0.8rem; color: #adadad\">{{ dept }}</div>\r\n          </div>\r\n        </van-col>\r\n        <van-col span=\"6\" style=\"margin-left: 5rem\">\r\n          <div style=\"margin-top: 0.3rem\">\r\n            <van-image width=\"4.5rem\" height=\"4.5rem\" :src=\"src\" />\r\n          </div>\r\n        </van-col>\r\n      </van-row>\r\n      <van-row\r\n        type=\"flex\"\r\n        justify=\"space-between\"\r\n        style=\"padding: 0.3rem 1rem 0\"\r\n      >\r\n        <van-col span=\"6\">\r\n          <a\r\n            @click=\"toPatientIntroduce()\"\r\n            style=\"color: #f1c232; font-size: 0.8rem\"\r\n            >医生介绍</a\r\n          >\r\n        </van-col>\r\n        <van-col span=\"6\" style=\"text-align: center\">\r\n          <button\r\n            style=\"\r\n              background-color: #f1c232;\r\n              font-size: 0.8rem;\r\n              border: none;\r\n              outlin: none;\r\n              padding: 0.3rem 1rem;\r\n              border-radius: 16px;\r\n              color: #fff;\r\n            \"\r\n            @click=\"attention(att)\"\r\n          >\r\n            {{ att == 0 ? \"+关注\" : \"已关注\" }}\r\n          </button>\r\n        </van-col>\r\n      </van-row>\r\n      <van-row>\r\n        <div\r\n          class=\"van-ellipsis\"\r\n          style=\"\r\n            font-size: 0.8rem;\r\n            margin: 0.3rem 1rem 0.3rem 1rem;\r\n            color: #adadad;\r\n          \"\r\n        >\r\n          {{ specialty }}\r\n        </div>\r\n      </van-row>\r\n    </div>\r\n    <hr />\r\n    <div style=\"margin-left: 1rem; text-align: left\">\r\n      <label style=\"font-size: 1.5rem\">预约挂号</label>\r\n    </div>\r\n\r\n    <van-row>\r\n      <van-col span=\"12\">\r\n        <div\r\n          style=\"margin-left: 1rem\"\r\n          v-for=\"(item, index) in skdAmList\"\r\n          :key=\"index\"\r\n        >\r\n          <div style=\"font-size: 0.8rem; line-height: 30px\">\r\n            <b>{{ item.date }} {{ item.week }}</b>\r\n          </div>\r\n          <van-button\r\n            round\r\n            :disabled=\"item.remain == 0 ? false : true\"\r\n            :class=\"item.remain == 0 ? 'btnOrange' : 'btnGrey'\"\r\n            @click=\"yuyue(item.noon, item.skdId, item.date)\"\r\n          >\r\n            <div>\r\n              <label :class=\"item.remain == '0' ? 'orange' : 'grey'\"\r\n                >{{ item.noon == 0 ? \"上午\" : \"下午\" }}\r\n                {{ item.remain == 0 ? \"预约\" : \"约满\" }}\r\n                {{ item.amount }}¥</label\r\n              >\r\n            </div>\r\n          </van-button>\r\n        </div>\r\n      </van-col>\r\n\r\n      <van-col span=\"12\">\r\n        <div\r\n          style=\"margin-left: 1rem\"\r\n          v-for=\"(item, index) in skdPmList\"\r\n          :key=\"index\"\r\n        >\r\n          <div style=\"font-size: 0.8rem; line-height: 30px\">\r\n            <b>{{ item.date }} {{ item.week }}</b>\r\n          </div>\r\n          <van-button\r\n            round\r\n            :disabled=\"item.remain == 0 ? false : true\"\r\n            :class=\"item.remain == 0 ? 'btnOrange' : 'btnGrey'\"\r\n            @click=\"yuyue(item.noon, item.skdId, item.date)\"\r\n          >\r\n            <div>\r\n              <label :class=\"item.remain == '0' ? 'orange' : 'grey'\"\r\n                >{{ item.noon == 0 ? \"上午\" : \"下午\" }}\r\n                {{ item.remain == 0 ? \"预约\" : \"约满\" }}\r\n                {{ item.amount }}¥</label\r\n              >\r\n            </div>\r\n          </van-button>\r\n\r\n          <van-popup\r\n            v-model=\"flag\"\r\n            position=\"bottom\"\r\n            :overlay=\"true\"\r\n            closeable\r\n            :style=\"{ height: '80%', width: '100%' }\"\r\n          >\r\n            <label style=\"display: inline-block; padding: 10px 0;text-align: center;width: 100%\">选择要预约的时间段</label>\r\n            <br />\r\n            <div style=\"margin-left: 0.1rem\"></div>\r\n            <div style=\"text-align: left\" v-if=\"popup1\">\r\n              <table class=\"myTable\">\r\n                <van-row>\r\n                  <van-col\r\n                    span=\"8\"\r\n                    v-for=\"(item2, index) in timeArr1\"\r\n                    :key=\"index\"\r\n                    style=\"text-align: center; margin-bottom: 9px\"\r\n                  >\r\n                    <van-button\r\n                      round\r\n                      color=\"grey\"\r\n                      @click=\"toFive(item2, item.date)\"\r\n                      >{{ item2 }}</van-button\r\n                    >\r\n                  </van-col>\r\n                </van-row>\r\n              </table>\r\n            </div>\r\n            <div style=\"text-align: left\" v-if=\"popup2\">\r\n              <table class=\"myTable\">\r\n                <van-row>\r\n                  <van-col\r\n                    span=\"8\"\r\n                    v-for=\"(item2, index) in timeArr1\"\r\n                    :key=\"index\"\r\n                    style=\"text-align: center; margin-bottom: 9px\"\r\n                  >\r\n                    <van-button\r\n                      round\r\n                      color=\"grey\"\r\n                      @click=\"toFive(item2, item.date)\"\r\n                      >{{ item2 }}</van-button\r\n                    >\r\n                  </van-col>\r\n                </van-row>\r\n              </table>\r\n            </div>\r\n          </van-popup>\r\n          <!-- <van-popup v-model=\"popup1\" position=\"bottom\" :overlay=\"true\">\r\n            <van-datetime-picker\r\n              type=\"time\"\r\n              :filter=\"filter\"\r\n              @cancel=\"popup1 = false\"\r\n              @confirm=\"handleDateConfirm\"\r\n            />\r\n          </van-popup>\r\n          <van-popup v-model=\"popup2\" position=\"bottom\" :overlay=\"true\">\r\n            <van-datetime-picker\r\n              type=\"time\"\r\n              :filter=\"filter\"\r\n              @cancel=\"popup2 = false\"\r\n              @confirm=\"handleDateConfirm\"\r\n            />\r\n          </van-popup> -->\r\n        </div>\r\n      </van-col>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getDoctorAndSkd } from \"../api/modules/getDoctorAndSkd\";\r\nimport { attentionStaff } from \"../api/modules/attentionStaff\";\r\nimport { TimeDifference } from \"../api/modules/TimeDifference\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      src: \"\",\r\n      name: \"\",\r\n      role: \"\",\r\n      specialty: \"\",\r\n      price: \"\",\r\n      dept: \"\",\r\n      staffId: this.$route.query.staffId,\r\n      patientId: localStorage.patientId,\r\n      skdList: {},\r\n      skdAmList: [],\r\n      skdPmList: [],\r\n      timeArr1: [],\r\n      flag: false,\r\n      popup1: true,\r\n      popup2: false,\r\n      att: \"\",\r\n      skdId: '',\r\n      date: ''\r\n    };\r\n  },\r\n  created() {\r\n    getDoctorAndSkd(this.staffId, this.patientId).then((res) => {\r\n      console.log(res.data.data);\r\n\r\n      this.name = res.data.data.staffName;\r\n      this.role = res.data.data.title;\r\n      this.dept = res.data.data.deptName;\r\n      this.specialty = res.data.data.advantages;\r\n      this.skdList = res.data.data.skdList;\r\n      this.att = res.data.data.state;\r\n      this.src = res.data.data.picture;\r\n      if (\r\n        this.skdList === undefined ||\r\n        this.skdList === null ||\r\n        this.skdList.length === 0\r\n      ) {\r\n        this.$toast(\"未获取到排班信息！\");\r\n        return;\r\n      }\r\n      for (let i = 0; i < this.skdList.length; i++) {\r\n        if (this.skdList[i].noon == 0) {\r\n          this.skdAmList.push(this.skdList[i]);\r\n        } else {\r\n          this.skdPmList.push(this.skdList[i]);\r\n        }\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    filter(type, options) {\r\n      if (type === \"minute\") {\r\n        return options.filter((option) => option % 5 === 0);\r\n      }\r\n      return options;\r\n    },\r\n    onReturn() {\r\n      history.back();\r\n    },\r\n    toFive(time, date) {\r\n      this.$router.push({\r\n        path: \"/appointment/five\",\r\n        query: {\r\n          skdId: this.skdId,\r\n          staffId: this.staffId,\r\n          patientId: this.patientId,\r\n          time: time,\r\n          date: this.date,\r\n          deptId: this.$route.query.deptId\r\n        },\r\n      });\r\n    },\r\n    yuyue(noon, skdId, ruletime) {\r\n      this.date = ruletime;\r\n      this.flag = true;\r\n      this.skdId = skdId;\r\n      if (noon == 1) {\r\n        this.popup1 = false;\r\n        this.popup2 = true;\r\n      } else {\r\n        this.popup1 = true;\r\n        this.popup2 = false;\r\n      }\r\n      TimeDifference(skdId, ruletime, noon).then((res) => {\r\n        this.timeArr1 = res.data.data;\r\n      });\r\n    },\r\n    attention(state) {\r\n      let obj = {\r\n        staffId: this.staffId,\r\n        patientId: this.patientId,\r\n      };\r\n      attentionStaff(obj).then((res) => {\r\n        if (res.data.data === \"关注成功\") {\r\n          this.att = \"已关注\";\r\n          this.$toast('关注成功')\r\n        }\r\n      });\r\n    },\r\n\r\n    toPatientIntroduce() {\r\n      this.$router.push({\r\n        path: \"/appointment/patientIntroduce\",\r\n        query: {\r\n          staffId: this.staffId,\r\n          patientId: this.patientId,\r\n        },\r\n      });\r\n    },\r\n    handleDateConfirm() {\r\n      this.popup1 = false;\r\n      this.popup2 = false;\r\n      this.$nextTick(() => {\r\n        this.$router.push(\"/appointment/five\");\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.footer {\r\n  text-align: left;\r\n}\r\ntd button {\r\n  width: 63%;\r\n}\r\n.btnOrange {\r\n  border: 0.12rem solid orange;\r\n}\r\n.btnGrey {\r\n  border: 0.12rem solid grey;\r\n}\r\n.orange {\r\n  color: orange;\r\n}\r\n.grey {\r\n  color: grey;\r\n}\r\n.myTable {\r\n  width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/patientPage.vue","import request from 'axios';\r\nexport const getDoctorAndSkd = (staffId,patientId) => {\r\n      return request({\r\n        url: '/api/staff/listDoctor?staffId='+staffId+'&patientId='+patientId,\r\n        method: 'get',\r\n      })\r\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/api/modules/getDoctorAndSkd.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"footer\"},[_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{attrs:{\"span\":\"10\"}},[_c('div',{staticStyle:{\"margin-left\":\"1rem\"}},[_c('div',{staticStyle:{\"margin-top\":\"1rem\"}},[_c('span',{staticStyle:{\"font-size\":\"1.3rem\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"0.8rem\",\"color\":\"#adadad\"}},[_vm._v(_vm._s(_vm.role))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"font-size\":\"0.8rem\",\"color\":\"#adadad\"}},[_vm._v(_vm._s(_vm.dept))])])]),_vm._v(\" \"),_c('van-col',{staticStyle:{\"margin-left\":\"5rem\"},attrs:{\"span\":\"6\"}},[_c('div',{staticStyle:{\"margin-top\":\"0.3rem\"}},[_c('van-image',{attrs:{\"width\":\"4.5rem\",\"height\":\"4.5rem\",\"src\":_vm.src}})],1)])],1),_vm._v(\" \"),_c('van-row',{staticStyle:{\"padding\":\"0.3rem 1rem 0\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{attrs:{\"span\":\"6\"}},[_c('a',{staticStyle:{\"color\":\"#f1c232\",\"font-size\":\"0.8rem\"},on:{\"click\":function($event){return _vm.toPatientIntroduce()}}},[_vm._v(\"医生介绍\")])]),_vm._v(\" \"),_c('van-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":\"6\"}},[_c('button',{staticStyle:{\"background-color\":\"#f1c232\",\"font-size\":\"0.8rem\",\"border\":\"none\",\"outlin\":\"none\",\"padding\":\"0.3rem 1rem\",\"border-radius\":\"16px\",\"color\":\"#fff\"},on:{\"click\":function($event){return _vm.attention(_vm.att)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.att == 0 ? \"+关注\" : \"已关注\")+\"\\n        \")])])],1),_vm._v(\" \"),_c('van-row',[_c('div',{staticClass:\"van-ellipsis\",staticStyle:{\"font-size\":\"0.8rem\",\"margin\":\"0.3rem 1rem 0.3rem 1rem\",\"color\":\"#adadad\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.specialty)+\"\\n      \")])])],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('van-row',[_c('van-col',{attrs:{\"span\":\"12\"}},_vm._l((_vm.skdAmList),function(item,index){return _c('div',{key:index,staticStyle:{\"margin-left\":\"1rem\"}},[_c('div',{staticStyle:{\"font-size\":\"0.8rem\",\"line-height\":\"30px\"}},[_c('b',[_vm._v(_vm._s(item.date)+\" \"+_vm._s(item.week))])]),_vm._v(\" \"),_c('van-button',{class:item.remain == 0 ? 'btnOrange' : 'btnGrey',attrs:{\"round\":\"\",\"disabled\":item.remain == 0 ? false : true},on:{\"click\":function($event){return _vm.yuyue(item.noon, item.skdId, item.date)}}},[_c('div',[_c('label',{class:item.remain == '0' ? 'orange' : 'grey'},[_vm._v(_vm._s(item.noon == 0 ? \"上午\" : \"下午\")+\"\\n              \"+_vm._s(item.remain == 0 ? \"预约\" : \"约满\")+\"\\n              \"+_vm._s(item.amount)+\"¥\")])])])],1)}),0),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},_vm._l((_vm.skdPmList),function(item,index){return _c('div',{key:index,staticStyle:{\"margin-left\":\"1rem\"}},[_c('div',{staticStyle:{\"font-size\":\"0.8rem\",\"line-height\":\"30px\"}},[_c('b',[_vm._v(_vm._s(item.date)+\" \"+_vm._s(item.week))])]),_vm._v(\" \"),_c('van-button',{class:item.remain == 0 ? 'btnOrange' : 'btnGrey',attrs:{\"round\":\"\",\"disabled\":item.remain == 0 ? false : true},on:{\"click\":function($event){return _vm.yuyue(item.noon, item.skdId, item.date)}}},[_c('div',[_c('label',{class:item.remain == '0' ? 'orange' : 'grey'},[_vm._v(_vm._s(item.noon == 0 ? \"上午\" : \"下午\")+\"\\n              \"+_vm._s(item.remain == 0 ? \"预约\" : \"约满\")+\"\\n              \"+_vm._s(item.amount)+\"¥\")])])]),_vm._v(\" \"),_c('van-popup',{style:({ height: '80%', width: '100%' }),attrs:{\"position\":\"bottom\",\"overlay\":true,\"closeable\":\"\"},model:{value:(_vm.flag),callback:function ($$v) {_vm.flag=$$v},expression:\"flag\"}},[_c('label',{staticStyle:{\"display\":\"inline-block\",\"padding\":\"10px 0\",\"text-align\":\"center\",\"width\":\"100%\"}},[_vm._v(\"选择要预约的时间段\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"0.1rem\"}}),_vm._v(\" \"),(_vm.popup1)?_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('table',{staticClass:\"myTable\"},[_c('van-row',_vm._l((_vm.timeArr1),function(item2,index){return _c('van-col',{key:index,staticStyle:{\"text-align\":\"center\",\"margin-bottom\":\"9px\"},attrs:{\"span\":\"8\"}},[_c('van-button',{attrs:{\"round\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){return _vm.toFive(item2, item.date)}}},[_vm._v(_vm._s(item2))])],1)}),1)],1)]):_vm._e(),_vm._v(\" \"),(_vm.popup2)?_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('table',{staticClass:\"myTable\"},[_c('van-row',_vm._l((_vm.timeArr1),function(item2,index){return _c('van-col',{key:index,staticStyle:{\"text-align\":\"center\",\"margin-bottom\":\"9px\"},attrs:{\"span\":\"8\"}},[_c('van-button',{attrs:{\"round\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){return _vm.toFive(item2, item.date)}}},[_vm._v(_vm._s(item2))])],1)}),1)],1)]):_vm._e()])],1)}),0)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-left\":\"1rem\",\"text-align\":\"left\"}},[_c('label',{staticStyle:{\"font-size\":\"1.5rem\"}},[_vm._v(\"预约挂号\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-560919ac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/patientPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-560919ac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./patientPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./patientPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./patientPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-560919ac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./patientPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-560919ac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/patientPage.vue\n// module id = null\n// module chunks = ","import request from 'axios';\r\nexport const attentionStaff = (data) => {\r\n      return request({\r\n        url: '/api/staff/attentionStaff',\r\n        method: 'post',\r\n        data\r\n      })\r\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/api/modules/attentionStaff.js","import request from 'axios';\r\nexport const TimeDifference = (skdId,ruletime,noon) => {\r\n      return request({\r\n        url: '/api/registration/TimeDifference?ruletime='+ruletime+'&skdId='+skdId+'&noon='+noon,\r\n        method: 'get',\r\n      })\r\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/api/modules/TimeDifference.js"],"sourceRoot":""}