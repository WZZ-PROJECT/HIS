{"remainingRequest":"E:\\XM\\his-shopping-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\XM\\his-shopping-web\\src\\views\\sys\\log.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\XM\\his-shopping-web\\src\\views\\sys\\log.vue","mtime":1606183812562},{"path":"E:\\XM\\his-shopping-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\XM\\his-shopping-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { listLog } from '@/api/log'\r\nimport Pagination from '@/components/Pagination'\r\n\r\nconst typeMap = {\r\n  0: '一般操作',\r\n  1: '安全操作',\r\n  2: '订单操作',\r\n  3: '其他操作'\r\n}\r\n\r\nexport default {\r\n  name: 'Log',\r\n  components: { Pagination },\r\n  filters: {\r\n    typeFilter(type) {\r\n      return typeMap[type]\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      list: null,\r\n      total: 0,\r\n      listLoading: true,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 20,\r\n        name: undefined,\r\n        sort: 'add_time',\r\n        order: 'desc'\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '角色名称不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true\r\n      listLog(this.listQuery)\r\n        .then(response => {\r\n          this.list = response.data.data.list\r\n          this.total = response.data.data.total\r\n          this.listLoading = false\r\n        })\r\n        .catch(() => {\r\n          this.list = []\r\n          this.total = 0\r\n          this.listLoading = false\r\n        })\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.page = 1\r\n      this.getList()\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["log.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"log.vue","sourceRoot":"src/views/sys","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n\r\n    <!-- 查询和其他操作 -->\r\n    <div class=\"filter-container\">\r\n      <el-input v-model=\"listQuery.name\" clearable class=\"filter-item\" style=\"width: 200px;\" placeholder=\"请输入操作管理员\"/>\r\n      <el-button v-permission=\"['GET /admin/log/list']\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">查找</el-button>\r\n    </div>\r\n\r\n    <!-- 查询结果 -->\r\n    <el-table v-loading=\"listLoading\" :data=\"list\" element-loading-text=\"正在查询中。。。\" border fit highlight-current-row>\r\n      <el-table-column align=\"center\" label=\"操作管理员\" prop=\"admin\"/>\r\n      <el-table-column align=\"center\" label=\"IP地址\" prop=\"ip\"/>\r\n      <el-table-column align=\"center\" label=\"操作时间\" prop=\"addTime\"/>\r\n      <el-table-column align=\"center\" label=\"操作类别\" prop=\"type\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag>{{ scope.row.type | typeFilter }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作动作\" prop=\"action\"/>\r\n      <el-table-column align=\"center\" label=\"操作状态\" prop=\"status\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.status ? 'success' : 'error' \">{{ scope.row.status ? '成功' : '失败' }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作结果\" prop=\"result\"/>\r\n      <el-table-column align=\"center\" label=\"备注信息\" prop=\"comment\"/>\r\n\r\n    </el-table>\r\n\r\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listLog } from '@/api/log'\r\nimport Pagination from '@/components/Pagination'\r\n\r\nconst typeMap = {\r\n  0: '一般操作',\r\n  1: '安全操作',\r\n  2: '订单操作',\r\n  3: '其他操作'\r\n}\r\n\r\nexport default {\r\n  name: 'Log',\r\n  components: { Pagination },\r\n  filters: {\r\n    typeFilter(type) {\r\n      return typeMap[type]\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      list: null,\r\n      total: 0,\r\n      listLoading: true,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 20,\r\n        name: undefined,\r\n        sort: 'add_time',\r\n        order: 'desc'\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '角色名称不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true\r\n      listLog(this.listQuery)\r\n        .then(response => {\r\n          this.list = response.data.data.list\r\n          this.total = response.data.data.total\r\n          this.listLoading = false\r\n        })\r\n        .catch(() => {\r\n          this.list = []\r\n          this.total = 0\r\n          this.listLoading = false\r\n        })\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.page = 1\r\n      this.getList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}