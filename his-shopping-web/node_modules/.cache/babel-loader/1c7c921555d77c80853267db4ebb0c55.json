{"remainingRequest":"E:\\XM\\his-shopping-web\\node_modules\\babel-loader\\lib\\index.js!E:\\XM\\his-shopping-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\XM\\his-shopping-web\\src\\utils\\permission.js","dependencies":[{"path":"E:\\XM\\his-shopping-web\\src\\utils\\permission.js","mtime":1606183812535},{"path":"E:\\XM\\his-shopping-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\XM\\his-shopping-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:/XM/his-shopping-web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = checkPermission;\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nvar _store = _interopRequireDefault(require(\"@/store\"));\n\n/**\r\n * @param {Array} value\r\n * @returns {Boolean}\r\n * @example see @/views/permission/directive.vue\r\n */\nfunction checkPermission(value) {\n  if (value && value instanceof Array && value.length > 0) {\n    var perms = _store.default.getters && _store.default.getters.perms;\n    var permissions = value;\n    var hasPermission = false;\n\n    if (perms.indexOf('*') >= 0) {\n      hasPermission = true;\n    } else {\n      hasPermission = perms.some(function (perm) {\n        return permissions.includes(perm);\n      });\n    }\n\n    if (!hasPermission) {\n      return false;\n    }\n\n    return true;\n  } else {\n    console.error(\"need perms! Like v-permission=\\\"['GET /aaa','POST /bbb']\\\"\");\n    return false;\n  }\n}",{"version":3,"sources":["E:/XM/his-shopping-web/src/utils/permission.js"],"names":["checkPermission","value","Array","length","perms","store","getters","permissions","hasPermission","indexOf","some","perm","includes","console","error"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACe,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;AAC7C,MAAIA,KAAK,IAAIA,KAAK,YAAYC,KAA1B,IAAmCD,KAAK,CAACE,MAAN,GAAe,CAAtD,EAAyD;AACvD,QAAMC,KAAK,GAAGC,eAAMC,OAAN,IAAiBD,eAAMC,OAAN,CAAcF,KAA7C;AACA,QAAMG,WAAW,GAAGN,KAApB;AAEA,QAAIO,aAAa,GAAG,KAApB;;AAEA,QAAIJ,KAAK,CAACK,OAAN,CAAc,GAAd,KAAsB,CAA1B,EAA6B;AAC3BD,MAAAA,aAAa,GAAG,IAAhB;AACD,KAFD,MAEO;AACLA,MAAAA,aAAa,GAAGJ,KAAK,CAACM,IAAN,CAAW,UAAAC,IAAI,EAAI;AACjC,eAAOJ,WAAW,CAACK,QAAZ,CAAqBD,IAArB,CAAP;AACD,OAFe,CAAhB;AAGD;;AAED,QAAI,CAACH,aAAL,EAAoB;AAClB,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD,GAlBD,MAkBO;AACLK,IAAAA,OAAO,CAACC,KAAR;AACA,WAAO,KAAP;AACD;AACF","sourcesContent":["import store from '@/store'\r\n\r\n/**\r\n * @param {Array} value\r\n * @returns {Boolean}\r\n * @example see @/views/permission/directive.vue\r\n */\r\nexport default function checkPermission(value) {\r\n  if (value && value instanceof Array && value.length > 0) {\r\n    const perms = store.getters && store.getters.perms\r\n    const permissions = value\r\n\r\n    var hasPermission = false\r\n\r\n    if (perms.indexOf('*') >= 0) {\r\n      hasPermission = true\r\n    } else {\r\n      hasPermission = perms.some(perm => {\r\n        return permissions.includes(perm)\r\n      })\r\n    }\r\n\r\n    if (!hasPermission) {\r\n      return false\r\n    }\r\n    return true\r\n  } else {\r\n    console.error(`need perms! Like v-permission=\"['GET /aaa','POST /bbb']\"`)\r\n    return false\r\n  }\r\n}\r\n"]}]}