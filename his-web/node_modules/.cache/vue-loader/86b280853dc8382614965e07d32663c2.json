{"remainingRequest":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\XM\\his-web\\src\\views\\dashboard\\components\\PieChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\XM\\his-web\\src\\views\\dashboard\\components\\PieChart.vue","mtime":1600936446202},{"path":"F:\\XM\\his-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1600936408645},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1600936442292}],"contextDependencies":[],"result":["//\n//\n//\n//\n\r\nimport echarts from 'echarts'\r\nrequire('echarts/theme/macarons') // echarts theme\r\nimport resize from './mixins/resize'\r\nimport {staffClassifyStatistics} from '@/api/charts'\r\nexport default {\r\n  mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: 'chart'\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: '100%'\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '300px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      amountCat:[],\r\n      amount:[],\r\n      amountMap:[],\r\n      chart: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.initChart()\r\n    })\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return\r\n    }\r\n    this.chart.dispose()\r\n    this.chart = null\r\n  },\r\n  methods: {\r\n    staffClassifyStatistics(){\r\n      \r\n    },\r\n    initChart() {\r\n      staffClassifyStatistics(this.$store.getters.id).then(res=>{\r\n        this.amountCat = res.data.amountCat\r\n        this.amount = res.data.amount\r\n        let i =0 \r\n        for(;i<this.amountCat.length;i++){\r\n          let temp = {}\r\n          temp.value = this.amount[i]\r\n          temp.name = this.amountCat[i]\r\n          this.amountMap.push(temp)\r\n        }\r\n     \r\n        this.chart = echarts.init(this.$el, 'macarons')\r\n        this.chart.setOption({\r\n          tooltip: {\r\n            trigger: 'item',\r\n            formatter: '{a} <br/>{b} : {c} ({d}%)'\r\n          },\r\n          legend: {\r\n            left: 'center',\r\n            bottom: '10',\r\n            data: this.amountCat\r\n          },\r\n          title:{\r\n            left:'left',\r\n            text:'七日分类费用统计',\r\n            fontSize:1\r\n          },\r\n          series: [\r\n            {\r\n              name: '分类费用统计',\r\n              type: 'pie',\r\n              roseType: 'radius',\r\n              radius: [15, 95],\r\n              center: ['50%', '38%'],\r\n              data:this.amountMap,\r\n              animationEasing: 'cubicInOut',\r\n              animationDuration: 2600\r\n            }\r\n          ]\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n",null]}