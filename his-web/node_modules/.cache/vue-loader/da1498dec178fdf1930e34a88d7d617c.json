{"remainingRequest":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IdeaProjects\\HIS\\HIS-web\\src\\views\\common\\schedule.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\src\\views\\common\\schedule.vue","mtime":1596785876392},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {querySkd} from '@/api/schedule'\r\nimport {parseTime} from '@/utils'\r\nimport checkPermission from '@/utils/permission' // 权限判断函数\r\nexport default {\r\n  data(){\r\n    return{\r\n      schedule:[],\r\n      listQuery:{\r\n        staffId:this.$store.getters.id,\r\n        startDate:null,\r\n        endDate:null,\r\n        noon:null,\r\n        deptId:null,\r\n        registrationRankId:null,\r\n        pageSize:10000\r\n      }\r\n    };\r\n  },\r\n  created(){\r\n    this.querySkd()\r\n  },\r\n  methods:{\r\n    checkPermission,\r\n    querySkd(){\r\n      if(checkPermission([1,7])){\r\n        this.listQuery.staffId = null\r\n        querySkd(this.listQuery).then(res=>{\r\n        this.schedule = res.data.list\r\n        this.schedule.forEach(item=>{\r\n          item.date = parseTime(item.date).substr(0,10)\r\n        })\r\n      })\r\n      }\r\n      else{\r\n        querySkd(this.listQuery).then(res=>{\r\n        this.schedule = res.data\r\n        this.schedule.forEach(item=>{\r\n          item.date = parseTime(item.date).substr(0,10)\r\n        })\r\n      })\r\n      }\r\n      \r\n    }\r\n  }\r\n  \r\n}\r\n",null]}