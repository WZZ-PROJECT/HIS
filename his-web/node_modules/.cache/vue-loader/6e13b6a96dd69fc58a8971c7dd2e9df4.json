{"remainingRequest":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\XM\\his-web\\src\\views\\outpatient\\maintain\\frequse.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\XM\\his-web\\src\\views\\outpatient\\maintain\\frequse.vue","mtime":1601279548398},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1600936408645},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1600936442292}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {selectByType,addfre,delfre} from '@/api/outpatient/frequentuse'\nimport {getdrugList} from '@/api/drug'\nimport {getNondrugList} from '@/api/non_drug'\nimport {getDmsDislist} from '@/api/diagnosis'\nimport Pagination from '@/components/Pagination'\nexport default {\n  components: {Pagination},\n  data(){\n    return{\n      searchitem:'',\n      loadItemList:false,\n      frequent:{\n        type: 6\n      },\n      freqlist:[],\n      itemlist:[],\n      itemvisible:false,\n      total:0,\n      page:{\n        pageSize:10,\n        pageNum:1\n      }\n    }\n  },\n  created() {\n    this.selectByType()\n  },\n  methods: {\n    delitem(val){\n      this.$confirm('确认将 '+val.name+' 从常用项删除?', '警告', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(()=>{\n        this.loadItemList = true\n        let data  = {}\n        data.deleteId = val.id\n        if(this.frequent.type===7)\n          data.deleteType = 6\n        else\n          data.deleteType = this.frequent.type\n        data.staffId = this.$store.getters.id\n        delfre(data).then(res=>{\n          this.$notify({\n            title: '成功',\n            message: res.message,\n            type: 'success',\n            duration: 2000\n          })\n        })\n        this.freqlist = []\n        this.loadItemList = false\n        this.itemvisible = false\n      })\n    },\n    selectItem(val){\n      this.$confirm('确认将 '+val.name+' 加入常用项?', '警告', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(()=>{\n        this.loadItemList = true\n        let data  = {}\n        data.addId = val.id\n        if(this.frequent.type===7)\n          data.addType = 6\n        else\n          data.addType = this.frequent.type\n        data.staffId = this.$store.getters.id\n        addfre(data).then(res=>{\n          this.$notify({\n            title: '成功',\n            message: res.message,\n            type: 'success',\n            duration: 2000\n          })\n          this.selectByType()\n        })\n        this.loadItemList = false\n        this.itemvisible = false\n      })\n    },\n    showitemlist(){\n\n      let data ={}\n      data.name = this.searchitem\n      this.itemvisible = true\n      if(this.frequent.type===6){\n        data.typeId = 101\n        data.pageSize = this.page.pageSize\n        data.pageNum = this.page.pageNum\n        getdrugList(data).then(res=>{\n          this.itemlist = res.data.list\n          this.total = res.data.total\n        })\n      }\n      else if(this.frequent.type===7){\n        data.typeId = 103\n        data.pageSize = this.page.pageSize\n        data.pageNum = this.page.pageNum\n        getdrugList(data).then(res=>{\n          this.itemlist = res.data.list\n          this.total = res.data.total\n        })\n      }\n      else if(this.frequent.type===1){\n        data.recordType = 1\n        data.pageSize = this.page.pageSize\n        data.pageNum = this.page.pageNum\n        getNondrugList(data).then(res=>{\n          this.itemlist = res.data.list\n          this.total = res.data.total\n        })\n      }\n      else if(this.frequent.type===4){\n        data.recordType = 2\n        data.pageSize = this.page.pageSize\n        data.pageNum = this.page.pageNum\n        getNondrugList(data).then(res=>{\n          this.itemlist = res.data.list\n          this.total = res.data.total\n        })\n      }\n      else if(this.frequent.type===3){\n        data.recordType = 3\n        data.pageSize = this.page.pageSize\n        data.pageNum = this.page.pageNum\n        getNondrugList(data).then(res=>{\n          this.itemlist = res.data.list\n          this.total = res.data.total\n        })\n      }\n      else if(this.frequent.type===2){\n        data.recordType = 2\n        data.pageSize = this.page.pageSize\n        data.pageNum = this.page.pageNum\n        getDmsDislist(data).then(res=>{\n          this.itemlist = res.data.list\n          this.total = res.data.total\n        })\n      }\n    },\n    selectByType(){\n      let data ={}\n      let flag = 1\n      data.staffId = this.$store.getters.id\n      data.selectType = this.frequent.type\n      if(data.selectType===7){\n        data.selectType = 6\n        flag = 0\n      }\n      selectByType(data).then(res=>{\n        if(this.frequent.type===6){\n          this.freqlist = res.data.drugList.filter(item=>{\n            if(item.typeId===101||item.typeId===102){\n              return true\n            }\n            return false\n          })\n        }\n        else if(flag===0){\n          this.freqlist = res.data.drugList.filter(item=>{\n            if(item.typeId===103){\n              return true\n            }\n            return false\n          })\n        }\n        else if(this.frequent.type===1){\n          this.freqlist = res.data.checkList\n        }\n        else if(this.frequent.type===2){\n          this.freqlist = res.data.medicineDiseList\n        }\n        else if(this.frequent.type===3){\n          this.freqlist = res.data.dispositionList\n        }\n        else if(this.frequent.type===4){\n          this.freqlist = res.data.testList\n        }\n      })\n    }\n  },\n}\n",null]}