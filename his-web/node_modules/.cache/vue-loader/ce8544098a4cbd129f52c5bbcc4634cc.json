{"remainingRequest":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\XM\\his-web\\src\\views\\dashboard\\components\\PieChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\XM\\his-web\\src\\views\\dashboard\\components\\PieChart.vue","mtime":1601345125410},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1600936408645},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1600936442292}],"contextDependencies":[],"result":["//\n//\n//\n//\n\nimport echarts from 'echarts'\nrequire('echarts/theme/macarons') // echarts theme\nimport resize from './mixins/resize'\nimport {staffClassifyStatistics} from '@/api/charts'\nexport default {\n  mixins: [resize],\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    width: {\n      type: String,\n      default: '100%'\n    },\n    height: {\n      type: String,\n      default: '300px'\n    }\n  },\n  data() {\n    return {\n      amountCat:[],\n      amount:[],\n      amountMap:[],\n      chart: null\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.initChart()\n    })\n  },\n  beforeDestroy() {\n    if (!this.chart) {\n      return\n    }\n    this.chart.dispose()\n    this.chart = null\n  },\n  methods: {\n    staffClassifyStatistics(){\n\n    },\n    initChart() {\n      staffClassifyStatistics(this.$store.getters.id).then(res=>{\n        this.amountCat = res.data.amountCat\n        this.amount = res.data.amount\n        let i =0\n        for(;i<this.amountCat.length;i++){\n          let temp = {}\n          temp.value = this.amount[i]\n          temp.name = this.amountCat[i]\n          this.amountMap.push(temp)\n        }\n\n        this.chart = echarts.init(this.$el, 'macarons')\n        this.chart.setOption({\n          tooltip: {\n            trigger: 'item',\n            formatter: '{a} <br/>{b} : {c} ({d}%)'\n          },\n          legend: {\n            left: 'center',\n            bottom: '10',\n            data: this.amountCat\n          },\n          title:{\n            left:'left',\n            text:'七日分类费用统计',\n            fontSize:1\n          },\n          series: [\n            {\n              name: '分类费用统计',\n              type: 'pie',\n              roseType: 'radius',\n              radius: [15, 95],\n              center: ['50%', '38%'],\n              data:this.amountMap,\n              animationEasing: 'cubicInOut',\n              animationDuration: 2600\n            }\n          ]\n        })\n      })\n    }\n  }\n}\n",null]}