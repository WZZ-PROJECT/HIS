{"remainingRequest":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\XM\\his-web\\src\\views\\registWork\\index.vue?vue&type=template&id=2138b8c8&","dependencies":[{"path":"F:\\XM\\his-web\\src\\views\\registWork\\index.vue","mtime":1601296410738},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1600936442310},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1600936442292}],"contextDependencies":[],"result":["\n<!-- 门诊挂号 -->\n<div>\n  <aside>\n    <span style=\"font-family:'微软雅黑';font-size:14px\">门诊挂号</span>\n    <el-input size=\"mini\" v-show=\"isshow\" v-model=\"dmsRegistrationParam.invoiceNo\"  placeholder=\"发票号\" style=\"width: 200px;margin-left:30px\" class=\"filter-item\" ></el-input>\n  <el-input size=\"mini\" v-show=\"dialogFormVisible||refundVisible\" v-model=\"invoiceNo\"  placeholder=\"发票号\" style=\"width: 200px;margin-left:30px\" class=\"filter-item\" ></el-input>\n    <el-button style=\"float:right;margin-left:20px\" type=\"text\" size=\"medium\" @click=\"reprint\" ><i class=\"el-icon-circle-plus\" />重打</el-button>\n    <el-button style=\"float:right;margin-left:20px\" type=\"text\" size=\"medium\" @click=\"selectPatientByIdNo\"><i class=\"el-icon-upload\" />读卡</el-button>\n    <el-button style=\"float:right;margin-left:20px\" type=\"text\" size=\"medium\" @click=\"guahao\"><i class=\"el-icon-circle-plus\" />挂号</el-button>\n  </aside>\n  <div>\n    <transition name=\".el-fade-in-linear\">\n    <el-form v-if=\"isshow\" label-position=\"left\" :model=\"dmsRegistrationParam\" ref=\"dmsRegistrationParam\" label-width=\"80px\" :inline=\"true\" class=\"demo-form-inline\" style=\"padding:0 0 0 100px;border-style: solid;border-width: 0px 0px 1px 0px;border-color:#C0C0C0;\" :rules=\"rules\">\n      <el-form-item style=\"width:300px\" label=\"身份证号\" prop=\"identificationNo\">\n        <el-input placeholder=\"身份证号\" v-model=\"dmsRegistrationParam.identificationNo\" @blur=\"doChange()\"></el-input>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" :inline=\"true\" label=\"姓名\" prop=\"name\">\n        <el-input v-model=\"dmsRegistrationParam.name\" placeholder=\"姓名\" ></el-input>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" :inline=\"true\" label=\"出生日期\" prop=\"dateOfBirth\" >\n        <el-input v-model=\"dmsRegistrationParam.dateOfBirth\" placeholder=\"出生日期\" disabled></el-input>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"性别\" prop=\"gender\">\n        <el-select placeholder=\"性别\" v-model=\"dmsRegistrationParam.gender\" style=\"width:100px\">\n          <el-option v-for=\"item in [{label:'男',value:0},{label:'女',value:1}]\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"家庭住址\" prop=\"homeAddress\">\n        <el-input placeholder=\"家庭住址\" v-model=\"dmsRegistrationParam.homeAddress\"></el-input>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"联系方式\"  prop=\"phoneNo\">\n        <el-input placeholder=\"联系方式\" v-model=\"dmsRegistrationParam.phoneNo\"></el-input>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"挂号科室\" prop=\"deptId\">\n        <el-select placeholder=\"挂号科室\" filterable @change=\"chooseRegister\" v-model=\"dmsRegistrationParam.deptId\" style=\"width:180px\">\n          <el-option v-for=\"item in alldept\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"挂号级别\" prop=\"RegisterRnak\">\n        <el-select placeholder=\"挂号级别\" filterable  v-model=\"dmsRegistrationParam.RegisterRnak\" @change=\"chooseRegister\" style=\"width:180px\">\n          <el-option v-for=\"item in RegisterRank\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\" />\n        </el-select>\n      </el-form-item>\n\n      <el-form-item style=\"width:300px\" label=\"挂号日期\" prop=\"attendanceDate\" >\n        <el-date-picker\n        style=\"width:180px\"\n        @change=\"chooseRegister\"\n          v-model=\"dmsRegistrationParam.attendanceDate\"\n          align=\"right\"\n          type=\"date\"\n          placeholder=\"选择日期\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"午别\" prop=\"noon\">\n        <el-select placeholder=\"默认\" :disabled=\"regdisabled\" style=\"width:100px\" @change=\"choosenoon\" v-model=\"dmsRegistrationParam.noon\">\n          <el-option label=\"上午\" value=\"0\"></el-option>\n          <el-option label=\"下午\" value=\"1\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"看诊医生\" prop=\"skdId\" >\n        <el-select style=\"width:180px\" placeholder=\"默认\" v-model=\"dmsRegistrationParam.skdId\" :disabled=\"regdisabled2\" @change=\"listTime\">\n          <el-option v-for=\"item in doctList\" :key=\"item.skdId\" :label=\"item.name\" :value=\"item.skdId\" />\n        </el-select>\n      </el-form-item>\n\n     <el-form-item style=\"width:300px\" label=\"预约时间\" prop=\"time\" >\n        <el-select style=\"width:180px\" placeholder=\"默认\" v-model=\"dmsRegistrationParam.time\" :disabled=\"regdisabled2\">\n          <el-option v-for=\"item in timeList\" :key=\"item\" :label=\"item\" :value=\"item\" />\n        </el-select>\n      </el-form-item>\n\n      <el-form-item style=\"width:300px\" label=\"应收金额\"  prop=\"amount\">\n        <el-input placeholder=\"应收金额\" style=\"width:180px;color:black\" disabled v-model=\"dmsRegistrationParam.amount\"></el-input>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"支付方式\" prop=\"settlementCatId\">\n        <el-select style=\"width:150px\" v-model=\"dmsRegistrationParam.settlementCatId\" placeholder=\"请选择支付方式\">\n          <el-option\n            v-for=\"item in paytype\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item style=\"width:300px\" label=\"病历本\" prop=\"needBook\">\n        <el-radio v-model=\"dmsRegistrationParam.needBook\" @change=\"changeradio1\" label=\"1\">是</el-radio>\n        <el-radio v-model=\"dmsRegistrationParam.needBook\" @change=\"changeradio2\" label=\"0\">否</el-radio>\n      </el-form-item>\n      <el-form-item style=\"margin-left:940px\">\n        <el-button type=\"primary\" @click=\"createRegistration('dmsRegistrationParam')\">挂号&打印发票</el-button>\n      </el-form-item>\n\n    </el-form>\n\n    </transition>\n  </div>\n\n  <div  v-if=\"!dialogFormVisible&&!isshow&&!refundVisible\">\n  <el-button style=\"margin-left:20px;font-family:'微软雅黑';font-size:14px;color:black\" disabled>挂号信息列表</el-button>\n  <el-input placeholder=\"病历号/姓名\" v-model=\"queryRegister.medicalRecordNo\" style=\"margin-left:20px;width:180px\"></el-input>\n <!-- <el-button @click=\"listRegisteredPatient\"><svg-icon icon-class=\"search\" /></el-button>-->\n  <el-button style=\"float:right;margin-right:30px\" type=\"text\" @click=\"refresh\" size=\"medium\"><i class=\"el-icon-refresh\" />刷新</el-button>\n  <el-table border :data=\"RegisterList.filter(data => !queryRegister.medicalRecordNo || data.patientName.toLowerCase().includes(queryRegister.medicalRecordNo.toLowerCase())||data.medicalRecordNo.toLowerCase().includes(queryRegister.medicalRecordNo.toLowerCase()))\" highlight-current-row style=\"width: 100%;margin-top:20px\" height=\"400\">\n    <el-table-column\n    fixed=\"left\"\n    label=\"操作\"\n    width=\"160\" align=\"center\">\n    <template slot-scope=\"scope\">\n      <el-button v-if=\"scope.row.registrationStatus=='1'\" plain size=\"mini\" @click=\"tuihao(scope.row)\">退号</el-button>\n      <el-button v-if=\"scope.row.registrationStatus=='1'\" plain size=\"mini\" @click=\"supprint(scope.row)\">补打</el-button>\n      <el-button v-if=\"scope.row.registrationStatus=='2'\" plain size=\"mini\" @click=\"handlepay(scope.row)\">缴费</el-button>\n      <el-button v-if=\"scope.row.registrationStatus=='2'\" plain size=\"mini\" @click=\"refundRegistrationCharge(scope.row)\">退费</el-button>\n      <el-button v-if=\"scope.row.registrationStatus=='0'\" plain size=\"mini\">已退号</el-button>\n      <el-button v-if=\"scope.row.registrationStatus=='4'\" plain size=\"mini\" disabled>无</el-button>\n      <el-button v-if=\"scope.row.registrationStatus=='3'\" plain size=\"mini\" disabled>无</el-button>\n      <el-button v-if=\"scope.row.registrationStatus=='6'\" plain size=\"mini\" disabled>无</el-button>\n    </template>\n  </el-table-column>\n    <el-table-column align=\"center\" label=\"状态\" width=\"100px\">\n      <template slot-scope=\"scope\">\n        <el-tag v-if=\"scope.row.registrationStatus===1\" type=\"primary\">未看诊</el-tag>\n        <el-tag v-if=\"scope.row.registrationStatus===4\" type=\"danger\">已退号</el-tag>\n        <el-tag v-if=\"scope.row.registrationStatus===2\" type=\"warning\">待收费</el-tag>\n        <el-tag v-if=\"scope.row.registrationStatus===3\" type=\"success\">诊毕</el-tag>\n        <el-tag v-if=\"scope.row.registrationStatus===6\" type=\"success\">已收费</el-tag>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"病历号\" width=\"200\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.medicalRecordNo }}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"姓名\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.patientName}}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"性别\" width=\"70px\">\n      <template slot-scope=\"scope\">\n        <span v-if=\"scope.row.patientGender===0\">男</span>\n        <span v-if=\"scope.row.patientGender===1\">女</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"出生日期\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.patientDateOfBirth}}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"看诊日期\" >\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.attendanceDate}}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"看诊科目\" >\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.deptName}}</span>\n      </template>\n    </el-table-column>\n</el-table>\n  </div>\n<div v-show=\"dialogFormVisible&&!refundVisible\" style=\"text-align:center\">\n  <el-form :model=\"onepatient\" label-width=\"80px\"  label-position=\"left\" :inline=\"true\">\n    <el-form-item label=\"病历号\" prop=\"id\" label-width=\"60px\">\n        <el-tag style=\"width:200px\" type=\"info\" size=\"large\" placeholder=\"病历号\">{{onepatient.medicalRecordNo}}</el-tag>\n    </el-form-item>\n    <el-form-item label=\"患者姓名\" prop=\"name\" label-width=\"70px\">\n        <el-tag style=\"width:140px\" type=\"info\" size=\"large\" placeholder=\"病历号\">{{onepatient.patientName}}</el-tag>\n    </el-form-item>\n\n    <el-form-item label=\"看诊日期\" prop=\"birth\" label-width=\"70px\">\n        <el-tag style=\"width:140px\" type=\"info\" size=\"large\" placeholder=\"病历号\">{{onepatient.attendanceDate}}</el-tag>\n    </el-form-item>\n  </el-form>\n  <el-table stripe border :data=\"paylist\" @selection-change=\"handlechange\">\n    <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n    <el-table-column align=\"center\" label=\"项目名称\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.name}}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"总金额(元)\"  width=\"100\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.amount}}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"开立时间\"  width=\"200\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.createTime}}</span>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"项目类型\"  width=\"200\">\n      <template slot-scope=\"scope\">\n        <el-tag v-if=\"scope.row.type===1\">检查</el-tag>\n        <el-tag v-if=\"scope.row.type===2\">检验</el-tag>\n        <el-tag v-if=\"scope.row.type===3\">处置</el-tag>\n        <el-tag v-if=\"scope.row.type===4\">草药处方</el-tag>\n        <el-tag v-if=\"scope.row.type===5\">成药处方</el-tag>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"状态\"  width=\"200\">\n        <el-tag type=\"primary\">未缴费</el-tag>\n    </el-table-column>\n  </el-table>\n  <p></p>\n  <span style=\"font-family:'微软雅黑'\">应付: </span>\n  <el-tag size=\"large\" type=\"info\">{{totalamount}}</el-tag>\n  <el-select style=\"width:150px\" v-model=\"settlementCatId\" placeholder=\"请选择支付方式\">\n    <el-option\n      v-for=\"item in paytype\"\n      :key=\"item.value\"\n      :label=\"item.label\"\n      :value=\"item.value\">\n    </el-option>\n  </el-select>\n  <p></p>\n  <el-button type=\"primary\" @click=\"charge\">缴费</el-button>\n  <el-button type=\"danger\" @click=\"dialogFormVisible=false\">取消</el-button>\n</div>\n<div v-show=\"refundVisible\" style=\"text-align:center\">\n  <el-form :model=\"onepatient\" label-width=\"80px\"  label-position=\"left\" :inline=\"true\">\n    <el-form-item label=\"病历号\" prop=\"id\" label-width=\"60px\">\n        <el-tag style=\"width:200px\" type=\"info\" size=\"large\" placeholder=\"病历号\">{{onepatient.medicalRecordNo}}</el-tag>\n    </el-form-item>\n    <el-form-item label=\"患者姓名\" prop=\"name\" label-width=\"70px\">\n        <el-tag style=\"width:140px\" type=\"info\" size=\"large\" placeholder=\"病历号\">{{onepatient.patientName}}</el-tag>\n    </el-form-item>\n\n    <el-form-item label=\"看诊日期\" prop=\"birth\" label-width=\"70px\">\n        <el-tag style=\"width:140px\" type=\"info\" size=\"large\" placeholder=\"病历号\">{{onepatient.attendanceDate}}</el-tag>\n    </el-form-item>\n  </el-form>\n  <el-table stripe border :data=\"paylist\" @selection-change=\"handlechange\">\n    <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n    <el-table-column align=\"center\" label=\"发票号\" width=\"250px\">\n      <template slot-scope=\"scope\">\n        {{scope.row.invoiceIdfNo}}\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"项目名称\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.name}}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"总金额(元)\"  width=\"100\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.amount}}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"开立时间\"  width=\"200\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.createTime}}</span>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"项目类型\"  width=\"200\">\n      <template slot-scope=\"scope\">\n        <el-tag v-if=\"scope.row.type===1\">检查</el-tag>\n        <el-tag v-if=\"scope.row.type===2\">检验</el-tag>\n        <el-tag v-if=\"scope.row.type===3\">处置</el-tag>\n        <el-tag v-if=\"scope.row.type===4\">草药处方</el-tag>\n        <el-tag v-if=\"scope.row.type===5\">成药处方</el-tag>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"状态\"  width=\"200\">\n        <el-tag type=\"success\">可退费</el-tag>\n    </el-table-column>\n  </el-table>\n  <p></p>\n  <span style=\"font-family:'微软雅黑'\">应退费: </span>\n  <el-tag size=\"large\" type=\"info\">{{totalamount}}</el-tag>\n  <el-button type=\"primary\" @click=\"refundmoney\">退费</el-button>\n  <el-button type=\"danger\" @click=\"refundVisible=false\">取消</el-button>\n</div>\n<el-dialog title=\"退号\" :visible.sync=\"refundregistVisible\" width=\"400px\">\n  <el-form :model=\"refundregist\">\n    <el-form-item label=\"发票号\" label-width=\"100px\">\n      <el-input v-model=\"invoiceNo\" style=\"width:200px\" placeholder=\"\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"冲红发票号\" label-width=\"100px\">\n      <el-input v-model=\"redinvoiceNo\" style=\"width:200px\" placeholder=\"\"></el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-button style=\"float:right;margin-left:10px\" type=\"danger\" @click=\"refundregistVisible = false\">取消</el-button>\n      <el-button style=\"float:right\" type=\"primary\" @click=\"comfirmtuihao\">退号</el-button>\n    </el-form-item>\n  </el-form>\n</el-dialog>\n<el-dialog title=\"重打\" :visible.sync=\"reprintregistVisible\" width=\"400px\">\n  <el-form>\n    <el-form-item label=\"新发票号\" label-width=\"100px\">\n      <el-input v-model=\"re1\" style=\"width:200px\" placeholder=\"\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"原发票号\" label-width=\"100px\">\n      <el-input v-model=\"re2\" style=\"width:200px\" placeholder=\"\"></el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-button style=\"float:right;margin-left:10px\" type=\"danger\" @click=\"reprintregistVisible = false\">取消</el-button>\n      <el-button style=\"float:right\" type=\"primary\" @click=\"reprint2\">重打发票</el-button>\n    </el-form-item>\n  </el-form>\n</el-dialog>\n<el-dialog title=\"补打\" :visible.sync=\"suppregistVisible\" width=\"400px\">\n  <el-form :model=\"refundregist\">\n    <el-form-item label=\"新发票号\" label-width=\"100px\">\n      <el-input v-model=\"re2\" style=\"width:200px\" placeholder=\"\"></el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-button style=\"float:right;margin-left:10px\" type=\"danger\" @click=\"suppregistVisible = false\">取消</el-button>\n      <el-button style=\"float:right\" type=\"primary\" @click=\"supprint2\">确定</el-button>\n    </el-form-item>\n  </el-form>\n</el-dialog>\n</div>\n\n",null]}