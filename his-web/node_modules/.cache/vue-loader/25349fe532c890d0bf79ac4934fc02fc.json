{"remainingRequest":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\XM\\his-web\\src\\views\\dashboard\\components\\BarChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\XM\\his-web\\src\\views\\dashboard\\components\\BarChart.vue","mtime":1600936446200},{"path":"F:\\XM\\his-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1600936408645},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1600936442292}],"contextDependencies":[],"result":["//\n//\n//\n//\n\r\nimport echarts from 'echarts'\r\nrequire('echarts/theme/macarons') // echarts theme\r\nimport resize from './mixins/resize'\r\nimport {deptClassifyStatistics} from '@/api/charts'\r\n\r\nconst animationDuration = 3000\r\n\r\nexport default {\r\n  mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: 'chart'\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: '100%'\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '300px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      data:{},\r\n      chart: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.deptClassifyStatistics()\r\n    })\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return\r\n    }\r\n    this.chart.dispose()\r\n    this.chart = null\r\n  },\r\n  methods: {\r\n    deptClassifyStatistics(){\r\n      deptClassifyStatistics(this.$store.getters.deptId).then(res=>{\r\n        this.data = res.data\r\n        this.initChart()\r\n      })\r\n    },\r\n    initChart() {\r\n      this.chart = echarts.init(this.$el, 'macarons')\r\n      this.chart.setOption({\r\n        title:{\r\n          left:'center',\r\n          text:'科室分类费用统计',\r\n          fontSize:1\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          top: 10,\r\n          left: '2%',\r\n          right: '2%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [{\r\n          type: 'category',\r\n          data: this.data.dateOfSevenDays,\r\n          axisTick: {\r\n            alignWithLabel: true\r\n          }\r\n        }],\r\n        yAxis: [{\r\n          type: 'value',\r\n          axisTick: {\r\n            show: false\r\n          }\r\n        }],\r\n        series: [{\r\n          name: '处置费',\r\n          type: 'bar',\r\n          stack: 'vistors',\r\n          barWidth: '30%',\r\n          data: this.data.dispositionAmount,\r\n          animationDuration\r\n        }, {\r\n          name: '检查费',\r\n          type: 'bar',\r\n          stack: 'vistors',\r\n          barWidth: '30%',\r\n          data: this.data.checkAmount,\r\n          animationDuration\r\n        }, {\r\n          name: '检验费',\r\n          type: 'bar',\r\n          stack: 'vistors',\r\n          barWidth: '30%',\r\n          data: this.data.testAmount,\r\n          animationDuration\r\n        }, {\r\n          name: '西药费',\r\n          type: 'bar',\r\n          stack: 'vistors',\r\n          barWidth: '30%',\r\n          data: this.data.medicineAmount,\r\n          animationDuration\r\n        }, {\r\n          name: '中药费',\r\n          type: 'bar',\r\n          stack: 'vistors',\r\n          barWidth: '30%',\r\n          data: this.data.herbalAmount,\r\n          animationDuration\r\n        }]\r\n      })\r\n    }\r\n  }\r\n}\r\n",null]}