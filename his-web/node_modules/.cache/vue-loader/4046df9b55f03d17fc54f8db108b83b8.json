{"remainingRequest":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\XM\\his-web\\src\\views\\finance\\check.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\XM\\his-web\\src\\views\\finance\\check.vue","mtime":1601199243636},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1600936436646},{"path":"F:\\XM\\his-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1600936408645},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1600936442292}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {listDailySettleListRecord,querySettleDetailById,queryInvoiceInfoBySettleId,verifySettle} from '@/api/dayreport'\nimport {parseTime,formatTime} from '@/utils'\nimport { selectAll } from '@/api/signature'\nexport default {\n  data(){\n    return{\n      hide:true,\n      printtable:false,\n      reportdetail:{},\n      InvoiceInfoList:[],\n      reportList:[],\n      starttime:'',\n      endtime:'',\n      activeName:'first',\n      test:[\n        {\n          id:111,\n          name:222,\n        },\n        {\n          id:111,\n          name:222,\n        },\n        {\n          id:111,\n          name:222,\n        },\n        {\n          id:111,\n          name:222,\n        },\n      ],\n      nowreport:{}\n    };\n  },\n  created() {\n    this.handleSubmit();\n  },\n  methods:{\n    handleClick(){\n      this.$notify({\n        title: '暂无数据',\n        message: '暂无数据！',\n        type: 'warning',\n        duration: 2000\n      })\n      return false;\n    },\n    verifySettle(){\n      let data = {}\n      data.verifyOperatorId = this.$store.getters.id\n      data.settleRecordId = this.nowreport.settleRecordId\n      verifySettle(data).then(res=>{\n        this.$notify({\n          title: '成功',\n          message: '已核对！',\n          type: 'success',\n          duration: 2000\n        })\n        this.listDailySettleListRecord()\n      })\n    },\n    print(e){\n      const subOutputRankPrint = document.getElementById('table')\n      const newContent = subOutputRankPrint.innerHTML\n      const oldContent = document.body.innerHTML\n      document.body.innerHTML = newContent\n      window.print()\n      window.location.reload()\n      document.body.innerHTML = oldContent\n      return false\n    },\n    listDailySettleListRecord(){\n      this.printtable = false\n      let data = {}\n      data.cashierId = this.$store.getters.id\n      data.startDatetime = parseTime(this.starttime)\n      data.endDatetime = parseTime(this.endtime)\n      listDailySettleListRecord(data).then(res=>{\n        this.reportList = res.data\n        if (res.data.size<=0) {\n          this.handleClick()\n        }\n          this.reportList.forEach(item=>{\n            item.createDatetme = parseTime(item.createDatetme)\n          })\n      })\n    },\n    selectreport(val){\n      this.nowreport = val\n      this.printtable = true\n      querySettleDetailById(val.settleRecordId).then(res=>{\n        this.reportdetail = res.data\n      })\n      queryInvoiceInfoBySettleId(val.settleRecordId).then(res=>{\n        this.InvoiceInfoList = res.data\n        this.InvoiceInfoList.forEach(item=>{\n          item.createTime = parseTime(item.createTime)\n        })\n        this.handleSubmit();\n        this.hide = false;\n      })\n    },\n    handleSubmit() {\n      selectAll().then(res=>{\n        this.$refs.sign.getStar(res.data.typeName,res.data.name,res.data.code)\n        this.img = this.$refs.sign.submit(80, 50);\n      })\n\n    }\n  }\n}\n",null]}