{"remainingRequest":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IdeaProjects\\HIS\\HIS-web\\src\\views\\finance\\check.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\src\\views\\finance\\check.vue","mtime":1596785876396},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\HIS\\HIS-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {listDailySettleListRecord,querySettleDetailById,queryInvoiceInfoBySettleId,verifySettle} from '@/api/dayreport'\r\nimport {parseTime,formatTime} from '@/utils'\r\nexport default {\r\n  data(){\r\n    return{\r\n      printtable:false,\r\n      reportdetail:{},\r\n      InvoiceInfoList:[],\r\n      reportList:[],\r\n      starttime:'',\r\n      endtime:'',\r\n      activeName:'first',\r\n      test:[\r\n        {\r\n          id:111,\r\n          name:222,\r\n        },\r\n        {\r\n          id:111,\r\n          name:222,\r\n        },\r\n        {\r\n          id:111,\r\n          name:222,\r\n        },\r\n        {\r\n          id:111,\r\n          name:222,\r\n        },\r\n      ],\r\n      nowreport:{}\r\n    };\r\n  },\r\n  methods:{\r\n    verifySettle(){\r\n      let data = {}\r\n      data.verifyOperatorId = this.$store.getters.id\r\n      data.settleRecordId = this.nowreport.settleRecordId\r\n      verifySettle(data).then(res=>{\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '已核对！',\r\n          type: 'success',\r\n          duration: 2000\r\n        })\r\n        this.listDailySettleListRecord()\r\n      })\r\n    },\r\n    print(e){\r\n      const subOutputRankPrint = document.getElementById('table')\r\n      const newContent = subOutputRankPrint.innerHTML\r\n      const oldContent = document.body.innerHTML\r\n      document.body.innerHTML = newContent\r\n      window.print()\r\n      window.location.reload()\r\n      document.body.innerHTML = oldContent\r\n      return false\r\n    },\r\n    listDailySettleListRecord(){\r\n      let data = {}\r\n      data.cashierId = this.$store.getters.id\r\n      data.startDatetime = parseTime(this.starttime)\r\n      data.endDatetime = parseTime(this.endtime)\r\n      listDailySettleListRecord(data).then(res=>{\r\n        this.reportList = res.data\r\n        this.reportList.forEach(item=>{\r\n          item.createDatetme = parseTime(item.createDatetme)\r\n        })\r\n      })\r\n    },\r\n    selectreport(val){\r\n      this.nowreport = val\r\n      this.printtable = true\r\n      querySettleDetailById(val.settleRecordId).then(res=>{\r\n        this.reportdetail = res.data\r\n      })\r\n      queryInvoiceInfoBySettleId(val.settleRecordId).then(res=>{\r\n        this.InvoiceInfoList = res.data\r\n        this.InvoiceInfoList.forEach(item=>{\r\n          item.createTime = parseTime(item.createTime)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n",null]}