{"remainingRequest":"F:\\XM\\his-web\\node_modules\\thread-loader\\dist\\cjs.js!F:\\XM\\his-web\\node_modules\\babel-loader\\lib\\index.js!F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\XM\\his-web\\src\\views\\outpatient\\maintain\\frequse.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\XM\\his-web\\src\\views\\outpatient\\maintain\\frequse.vue","mtime":1601279548398},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1600936436646},{"path":"F:\\XM\\his-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1600936408645},{"path":"F:\\XM\\his-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600936410370},{"path":"F:\\XM\\his-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1600936442292}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { selectByType as _selectByType, addfre, delfre } from '@/api/outpatient/frequentuse';\nimport { getdrugList } from '@/api/drug';\nimport { getNondrugList } from '@/api/non_drug';\nimport { getDmsDislist } from '@/api/diagnosis';\nimport Pagination from '@/components/Pagination';\nexport default {\n  components: {\n    Pagination: Pagination\n  },\n  data: function data() {\n    return {\n      searchitem: '',\n      loadItemList: false,\n      frequent: {\n        type: 6\n      },\n      freqlist: [],\n      itemlist: [],\n      itemvisible: false,\n      total: 0,\n      page: {\n        pageSize: 10,\n        pageNum: 1\n      }\n    };\n  },\n  created: function created() {\n    this.selectByType();\n  },\n  methods: {\n    delitem: function delitem(val) {\n      var _this = this;\n\n      this.$confirm('确认将 ' + val.name + ' 从常用项删除?', '警告', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this.loadItemList = true;\n        var data = {};\n        data.deleteId = val.id;\n        if (_this.frequent.type === 7) data.deleteType = 6;else data.deleteType = _this.frequent.type;\n        data.staffId = _this.$store.getters.id;\n        delfre(data).then(function (res) {\n          _this.$notify({\n            title: '成功',\n            message: res.message,\n            type: 'success',\n            duration: 2000\n          });\n        });\n        _this.freqlist = [];\n        _this.loadItemList = false;\n        _this.itemvisible = false;\n      });\n    },\n    selectItem: function selectItem(val) {\n      var _this2 = this;\n\n      this.$confirm('确认将 ' + val.name + ' 加入常用项?', '警告', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this2.loadItemList = true;\n        var data = {};\n        data.addId = val.id;\n        if (_this2.frequent.type === 7) data.addType = 6;else data.addType = _this2.frequent.type;\n        data.staffId = _this2.$store.getters.id;\n        addfre(data).then(function (res) {\n          _this2.$notify({\n            title: '成功',\n            message: res.message,\n            type: 'success',\n            duration: 2000\n          });\n\n          _this2.selectByType();\n        });\n        _this2.loadItemList = false;\n        _this2.itemvisible = false;\n      });\n    },\n    showitemlist: function showitemlist() {\n      var _this3 = this;\n\n      var data = {};\n      data.name = this.searchitem;\n      this.itemvisible = true;\n\n      if (this.frequent.type === 6) {\n        data.typeId = 101;\n        data.pageSize = this.page.pageSize;\n        data.pageNum = this.page.pageNum;\n        getdrugList(data).then(function (res) {\n          _this3.itemlist = res.data.list;\n          _this3.total = res.data.total;\n        });\n      } else if (this.frequent.type === 7) {\n        data.typeId = 103;\n        data.pageSize = this.page.pageSize;\n        data.pageNum = this.page.pageNum;\n        getdrugList(data).then(function (res) {\n          _this3.itemlist = res.data.list;\n          _this3.total = res.data.total;\n        });\n      } else if (this.frequent.type === 1) {\n        data.recordType = 1;\n        data.pageSize = this.page.pageSize;\n        data.pageNum = this.page.pageNum;\n        getNondrugList(data).then(function (res) {\n          _this3.itemlist = res.data.list;\n          _this3.total = res.data.total;\n        });\n      } else if (this.frequent.type === 4) {\n        data.recordType = 2;\n        data.pageSize = this.page.pageSize;\n        data.pageNum = this.page.pageNum;\n        getNondrugList(data).then(function (res) {\n          _this3.itemlist = res.data.list;\n          _this3.total = res.data.total;\n        });\n      } else if (this.frequent.type === 3) {\n        data.recordType = 3;\n        data.pageSize = this.page.pageSize;\n        data.pageNum = this.page.pageNum;\n        getNondrugList(data).then(function (res) {\n          _this3.itemlist = res.data.list;\n          _this3.total = res.data.total;\n        });\n      } else if (this.frequent.type === 2) {\n        data.recordType = 2;\n        data.pageSize = this.page.pageSize;\n        data.pageNum = this.page.pageNum;\n        getDmsDislist(data).then(function (res) {\n          _this3.itemlist = res.data.list;\n          _this3.total = res.data.total;\n        });\n      }\n    },\n    selectByType: function selectByType() {\n      var _this4 = this;\n\n      var data = {};\n      var flag = 1;\n      data.staffId = this.$store.getters.id;\n      data.selectType = this.frequent.type;\n\n      if (data.selectType === 7) {\n        data.selectType = 6;\n        flag = 0;\n      }\n\n      _selectByType(data).then(function (res) {\n        if (_this4.frequent.type === 6) {\n          _this4.freqlist = res.data.drugList.filter(function (item) {\n            if (item.typeId === 101 || item.typeId === 102) {\n              return true;\n            }\n\n            return false;\n          });\n        } else if (flag === 0) {\n          _this4.freqlist = res.data.drugList.filter(function (item) {\n            if (item.typeId === 103) {\n              return true;\n            }\n\n            return false;\n          });\n        } else if (_this4.frequent.type === 1) {\n          _this4.freqlist = res.data.checkList;\n        } else if (_this4.frequent.type === 2) {\n          _this4.freqlist = res.data.medicineDiseList;\n        } else if (_this4.frequent.type === 3) {\n          _this4.freqlist = res.data.dispositionList;\n        } else if (_this4.frequent.type === 4) {\n          _this4.freqlist = res.data.testList;\n        }\n      });\n    }\n  }\n};",null]}