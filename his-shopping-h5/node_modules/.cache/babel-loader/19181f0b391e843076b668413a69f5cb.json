{"remainingRequest":"E:\\XM\\his-shopping-h5\\node_modules\\babel-loader\\lib\\index.js!E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\XM\\his-shopping-h5\\src\\views\\user\\user-information-set\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\XM\\his-shopping-h5\\src\\views\\user\\user-information-set\\index.vue","mtime":1606186248951},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:/XM/his-shopping-h5/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"E:/XM/his-shopping-h5/node_modules/@babel/runtime/helpers/defineProperty\"));\n\nrequire(\"vant/es/popup/style\");\n\nvar _popup = _interopRequireDefault(require(\"vant/es/popup\"));\n\nrequire(\"vant/es/picker/style\");\n\nvar _picker = _interopRequireDefault(require(\"vant/es/picker\"));\n\nrequire(\"vant/es/uploader/style\");\n\nvar _uploader = _interopRequireDefault(require(\"vant/es/uploader\"));\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"vant/es/button/style\");\n\nvar _button = _interopRequireDefault(require(\"vant/es/button\"));\n\nvar _localStorage = require(\"@/utils/local-storage\");\n\nvar _api = require(\"@/api/api\");\n\nvar _components;\n\nvar _default = {\n  data: function data() {\n    return {\n      sexColumns: [{\n        values: ['保密', '男', '女'],\n        defaultIndex: 0\n      }],\n      showSex: false,\n      avatar: '',\n      nickName: '',\n      gender: 0,\n      mobile: ''\n    };\n  },\n  computed: {\n    genderText: function genderText() {\n      var text = ['保密', '男', '女'];\n      return text[this.gender] || '';\n    }\n  },\n  created: function created() {\n    this.getUserInfo();\n  },\n  methods: {\n    avatarAfterRead: function avatarAfterRead(file) {\n      console.log(file);\n      this.avatar = file.content;\n    },\n    onSexConfirm: function onSexConfirm(value, index) {\n      this.showSex = false;\n    },\n    getUserInfo: function getUserInfo() {\n      var _this = this;\n\n      (0, _api.authInfo)().then(function (res) {\n        _this.avatar = res.data.data.avatar;\n        _this.nickName = res.data.data.nickName;\n        _this.gender = res.data.data.gender;\n        _this.mobile = res.data.data.mobile;\n      });\n    },\n    loginOut: function loginOut() {\n      var _this2 = this;\n\n      (0, _api.authLogout)().then(function (res) {\n        (0, _localStorage.removeLocalStorage)('Authorization');\n        (0, _localStorage.removeLocalStorage)('avatar');\n        (0, _localStorage.removeLocalStorage)('nickName');\n\n        _this2.$router.push({\n          name: 'home'\n        });\n      });\n    }\n  },\n  components: (_components = {}, (0, _defineProperty2.default)(_components, _button.default.name, _button.default), (0, _defineProperty2.default)(_components, _uploader.default.name, _uploader.default), (0, _defineProperty2.default)(_components, _picker.default.name, _picker.default), (0, _defineProperty2.default)(_components, _popup.default.name, _popup.default), _components)\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;;AAEA;;;;eAEA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,CACA;AACA,QAAA,MAAA,EAAA,CAAA,IAAA,EAAA,GAAA,EAAA,GAAA,CADA;AAEA,QAAA,YAAA,EAAA;AAFA,OADA,CADA;AAOA,MAAA,OAAA,EAAA,KAPA;AAQA,MAAA,MAAA,EAAA,EARA;AASA,MAAA,QAAA,EAAA,EATA;AAUA,MAAA,MAAA,EAAA,CAVA;AAWA,MAAA,MAAA,EAAA;AAXA,KAAA;AAaA,GAfA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,IAAA,GAAA,CAAA,IAAA,EAAA,GAAA,EAAA,GAAA,CAAA;AACA,aAAA,IAAA,CAAA,KAAA,MAAA,CAAA,IAAA,EAAA;AACA;AAJA,GAjBA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,WAAA;AACA,GA1BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,IADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,MAAA,GAAA,IAAA,CAAA,OAAA;AACA,KAJA;AAKA,IAAA,YALA,wBAKA,KALA,EAKA,KALA,EAKA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,KAPA;AAQA,IAAA,WARA,yBAQA;AAAA;;AACA,2BAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA;AACA,OALA;AAMA,KAfA;AAgBA,IAAA,QAhBA,sBAgBA;AAAA;;AACA,6BAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,8CAAA,eAAA;AACA,8CAAA,QAAA;AACA,8CAAA,UAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OALA;AAOA;AAxBA,GA5BA;AAuDA,EAAA,UAAA,gEACA,gBAAA,IADA,+DAEA,kBAAA,IAFA,iEAGA,gBAAA,IAHA,+DAIA,eAAA,IAJA;AAvDA,C","sourcesContent":["<template>\r\n  <div class=\"user_information\">\r\n    <van-cell-group>\r\n      <van-cell title=\"头像\" class=\"cell_middle\">\r\n        <van-uploader :afterRead=\"avatarAfterRead\">\r\n          <div class=\"user_avatar_upload\">\r\n            <img\r\n              :src=\"avatar\"\r\n              alt=\"你的头像\"\r\n              v-if=\"avatar\"\r\n            >\r\n            <van-icon name=\"camera_full\" v-else></van-icon>\r\n          </div>\r\n        </van-uploader>\r\n      </van-cell>\r\n\r\n      <van-cell title=\"昵称\" to=\"/user/information/setNickname\" :value=\"nickName\" isLink/>\r\n      <van-cell title=\"性别\" :value=\"genderText\" @click=\"showSex = true\" isLink/>\r\n      <van-cell title=\"密码设置\" to=\"/user/information/setPassword\" isLink/>\r\n      <van-cell title=\"手机号\" to=\"/user/information/setMobile\" :value=\"mobile\" isLink></van-cell>\r\n    </van-cell-group>\r\n\r\n    <van-button size=\"large\" class=\"user_quit\" @click=\"loginOut\">退出当前账户</van-button>\r\n\r\n    <van-popup v-model=\"showSex\" position=\"bottom\">\r\n      <van-picker\r\n        showToolbar\r\n        :columns=\"sexColumns\"\r\n        title=\"选择性别\"\r\n        @cancel=\"showSex = false\"\r\n        @confirm=\"onSexConfirm\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Uploader, Picker, Popup, Button } from 'vant';\r\nimport { removeLocalStorage } from '@/utils/local-storage';\r\nimport { getLocalStorage } from '@/utils/local-storage';\r\nimport { authInfo, authLogout, authProfile } from '@/api/api';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      sexColumns: [\r\n        {\r\n          values: ['保密', '男', '女'],\r\n          defaultIndex: 0\r\n        }\r\n      ],\r\n      showSex: false,\r\n      avatar: '',\r\n      nickName: '',\r\n      gender: 0,\r\n      mobile: ''\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    genderText() {\r\n      const text = ['保密', '男', '女'];\r\n      return text[this.gender] || '';\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getUserInfo();\r\n  },\r\n\r\n  methods: {\r\n    avatarAfterRead(file) {\r\n      console.log(file);\r\n      this.avatar = file.content;\r\n    },\r\n    onSexConfirm(value, index) {\r\n      this.showSex = false;\r\n    },\r\n    getUserInfo() {\r\n      authInfo().then(res => {\r\n        this.avatar = res.data.data.avatar;\r\n        this.nickName = res.data.data.nickName;\r\n        this.gender = res.data.data.gender;\r\n        this.mobile = res.data.data.mobile;\r\n      })\r\n    },\r\n    loginOut() {\r\n      authLogout().then(res => {\r\n        removeLocalStorage('Authorization')\r\n        removeLocalStorage('avatar')\r\n        removeLocalStorage('nickName')\r\n        this.$router.push({ name: 'home' });\r\n      });\r\n\r\n    }\r\n  },\r\n\r\n  components: {\r\n    [Button.name]: Button,\r\n    [Uploader.name]: Uploader,\r\n    [Picker.name]: Picker,\r\n    [Popup.name]: Popup\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.user_information {\r\n  .user_avatar_upload {\r\n    position: relative;\r\n    width: 50px;\r\n    height: 50px;\r\n    border: 1px solid $border-color;\r\n    img {\r\n      max-width: 100%;\r\n      max-height: 100%;\r\n    }\r\n    i {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      font-size: 20px;\r\n      color: $border-color;\r\n    }\r\n  }\r\n  .user_quit {\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/user/user-information-set"}]}