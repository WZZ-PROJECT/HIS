{"remainingRequest":"E:\\XM\\his-shopping-h5\\node_modules\\babel-loader\\lib\\index.js!E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\XM\\his-shopping-h5\\src\\views\\user\\refund-list\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\XM\\his-shopping-h5\\src\\views\\user\\refund-list\\index.vue","mtime":1606186248948},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:/XM/his-shopping-h5/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"E:/XM/his-shopping-h5/node_modules/@babel/runtime/helpers/defineProperty\"));\n\nrequire(\"vant/es/list/style\");\n\nvar _list = _interopRequireDefault(require(\"vant/es/list\"));\n\nrequire(\"vant/es/card/style\");\n\nvar _card = _interopRequireDefault(require(\"vant/es/card\"));\n\nrequire(\"vant/es/panel/style\");\n\nvar _panel = _interopRequireDefault(require(\"vant/es/panel\"));\n\nrequire(\"vant/es/tabs/style\");\n\nvar _tabs = _interopRequireDefault(require(\"vant/es/tabs\"));\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"vant/es/tab/style\");\n\nvar _tab = _interopRequireDefault(require(\"vant/es/tab\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"E:/XM/his-shopping-h5/node_modules/@babel/runtime/helpers/toConsumableArray\"));\n\nvar _api = require(\"@/api/api\");\n\nvar _components;\n\nvar STATUS_TEXT = {\n  10: '退款中',\n  50: '退款关闭',\n  60: '退款成功'\n};\nvar _default = {\n  name: 'order-list',\n  data: function data() {\n    return {\n      listApi: _api.REFUND_LIST,\n      activeIndex: 0,\n      items: [],\n      page: 0,\n      limit: 10,\n      loading: false,\n      finished: false,\n      tabsItem: [{\n        name: '全部',\n        status: 0,\n        items: []\n      }, {\n        name: '退款中',\n        status: 10,\n        items: []\n      }, {\n        name: '退款成功',\n        status: 60,\n        items: []\n      }]\n    };\n  },\n  methods: {\n    onLoad: function onLoad(i, items) {\n      var _this$tabsItem$i$item;\n\n      (_this$tabsItem$i$item = this.tabsItem[i].items).push.apply(_this$tabsItem$i$item, (0, _toConsumableArray2.default)(items));\n    },\n    refund_handle: function refund_handle(i) {\n      var _this = this;\n\n      var item = this.items[i];\n\n      if (item.status == 10) {\n        this.$dialog.confirm({\n          message: '撤销后将不能再次发起申请，确定要撤销该申请吗？'\n        }).then(function () {\n          _this.$toast('已撤销该退款申请');\n\n          _this.items[i].status = 50;\n        });\n      } else {// 跳转退款详情\n      }\n    },\n    handleTabClick: function handleTabClick(index) {\n      if (this.activeIndex != index) {\n        this.activeIndex = index;\n      }\n    },\n    getStatusText: function getStatusText(status) {\n      return STATUS_TEXT[status] || '';\n    },\n    getRefundList: function getRefundList() {}\n  },\n  components: (_components = {}, (0, _defineProperty2.default)(_components, _tab.default.name, _tab.default), (0, _defineProperty2.default)(_components, _tabs.default.name, _tabs.default), (0, _defineProperty2.default)(_components, _panel.default.name, _panel.default), (0, _defineProperty2.default)(_components, _card.default.name, _card.default), (0, _defineProperty2.default)(_components, _list.default.name, _list.default), _components)\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;;;;AAIA,IAAA,WAAA,GAAA;AACA,MAAA,KADA;AAEA,MAAA,MAFA;AAGA,MAAA;AAHA,CAAA;eAMA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,gBADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,KANA;AAOA,MAAA,QAAA,EAAA,KAPA;AAQA,MAAA,QAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,MAAA,EAAA,CAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OANA,EAWA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAXA;AARA,KAAA;AA0BA,GA9BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,CADA,EACA,KADA,EACA;AAAA;;AACA,oCAAA,QAAA,CAAA,CAAA,EAAA,KAAA,EAAA,IAAA,+DAAA,KAAA;AACA,KAHA;AAIA,IAAA,aAJA,yBAIA,CAJA,EAIA;AAAA;;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,CAAA,CAAA;;AACA,UAAA,IAAA,CAAA,MAAA,IAAA,EAAA,EAAA;AACA,aAAA,OAAA,CACA,OADA,CACA;AACA,UAAA,OAAA,EAAA;AADA,SADA,EAIA,IAJA,CAIA,YAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,UAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,MAAA,GAAA,EAAA;AACA,SAPA;AAQA,OATA,MASA,CACA;AACA;AACA,KAlBA;AAmBA,IAAA,cAnBA,0BAmBA,KAnBA,EAmBA;AACA,UAAA,KAAA,WAAA,IAAA,KAAA,EAAA;AACA,aAAA,WAAA,GAAA,KAAA;AACA;AACA,KAvBA;AAwBA,IAAA,aAxBA,yBAwBA,MAxBA,EAwBA;AACA,aAAA,WAAA,CAAA,MAAA,CAAA,IAAA,EAAA;AACA,KA1BA;AA2BA,IAAA,aA3BA,2BA2BA,CAEA;AA7BA,GAhCA;AA+DA,EAAA,UAAA,gEACA,aAAA,IADA,4DAEA,cAAA,IAFA,6DAGA,eAAA,IAHA,8DAIA,cAAA,IAJA,6DAKA,cAAA,IALA;AA/DA,C","sourcesContent":["<template>\r\n  <div class=\"refund_list\">\r\n    <van-tabs sticky :active=\"activeIndex\" :swipe-threshold=\"5\" @click=\"handleTabClick\">\r\n      <van-tab v-for=\"(tab, tabIndex) in tabsItem\" :title=\"tab.name\" :key=\"tabIndex\">\r\n        <van-list v-model=\"loading\"\r\n                  :finished=\"finished\"\r\n                  :immediate-check=\"false\"\r\n                  finished-text=\"没有更多了\"\r\n                  @load=\"getRefundList\">\r\n          <van-panel\r\n            v-for=\"(el, i) in tab.items\"\r\n            class=\"order_list--panel\"\r\n            :key=\"i\"\r\n            :title=\"'订单编号: ' + el.id\"\r\n            :status=\"getStatusText(el.status)\"\r\n          >\r\n            <div>\r\n              <van-card\r\n                class=\"order_list--van-card\"\r\n                :key=\"i\"\r\n                :title=\"el.orderItem.item_name\"\r\n                :desc=\"el.orderItem.sku_props_str\"\r\n                :num=\"10000\"\r\n                :price=\"(el.orderItem.price / 100).toFixed(2)\"\r\n                :thumb=\"el.orderItem.pic_url\"\r\n              />\r\n              <div\r\n                class=\"order_list--total\"\r\n              >合计: {{el.refund_fee | yuan}}（含运费{{el.refund_post_fee | yuan}}）</div>\r\n            </div>\r\n            <div slot=\"footer\" style=\"text-align: right;\">\r\n              <van-button\r\n                size=\"small\"\r\n                @click=\"refund_handle(i)\"\r\n              >{{ el.status == 10 ? \"撤销申请\" : \"查看详情\"}}</van-button>\r\n            </div>\r\n          </van-panel>\r\n        </van-list>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { REFUND_LIST } from '@/api/api';\r\n\r\nimport { Tab, Tabs, Panel, Card, List } from 'vant';\r\n\r\nconst STATUS_TEXT = {\r\n  10: '退款中',\r\n  50: '退款关闭',\r\n  60: '退款成功'\r\n};\r\n\r\nexport default {\r\n  name: 'order-list',\r\n\r\n  data() {\r\n    return {\r\n      listApi: REFUND_LIST,\r\n      activeIndex: 0,\r\n      items: [],\r\n      page: 0,\r\n      limit: 10,\r\n      loading: false,\r\n      finished: false,\r\n      tabsItem: [\r\n        {\r\n          name: '全部',\r\n          status: 0,\r\n          items: []\r\n        },\r\n        {\r\n          name: '退款中',\r\n          status: 10,\r\n          items: []\r\n        },\r\n        {\r\n          name: '退款成功',\r\n          status: 60,\r\n          items: []\r\n        }\r\n      ]\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    onLoad(i, items) {\r\n      this.tabsItem[i].items.push(...items);\r\n    },\r\n    refund_handle(i) {\r\n      const item = this.items[i];\r\n      if (item.status == 10) {\r\n        this.$dialog\r\n          .confirm({\r\n            message: '撤销后将不能再次发起申请，确定要撤销该申请吗？'\r\n          })\r\n          .then(() => {\r\n            this.$toast('已撤销该退款申请');\r\n            this.items[i].status = 50;\r\n          });\r\n      } else {\r\n        // 跳转退款详情\r\n      }\r\n    },\r\n    handleTabClick(index) {\r\n      if (this.activeIndex != index) {\r\n        this.activeIndex = index;\r\n      }\r\n    },\r\n    getStatusText(status) {\r\n      return STATUS_TEXT[status] || '';\r\n    },\r\n    getRefundList(){\r\n\r\n    }\r\n  },\r\n  components: {\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    [Panel.name]: Panel,\r\n    [Card.name]: Card,\r\n    [List.name]: List\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.refund_list {\r\n  padding-bottom: 0;\r\n\r\n  &--footer_btn {\r\n    text-align: right;\r\n  }\r\n  &--panel {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  &--van-card {\r\n    background-color: #fafafa;\r\n  }\r\n\r\n  &--total {\r\n    text-align: right;\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/user/refund-list"}]}