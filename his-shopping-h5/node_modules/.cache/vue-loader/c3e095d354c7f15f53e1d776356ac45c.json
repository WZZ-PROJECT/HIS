{"remainingRequest":"E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\XM\\his-shopping-h5\\src\\views\\user\\module-address-edit\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\XM\\his-shopping-h5\\src\\views\\user\\module-address-edit\\index.vue","mtime":1606186248944},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { AddressEdit, NavBar } from 'vant';\r\nimport areaList from './area.json';\r\nimport { addressDetail, addressSave, addressDelete } from '@/api/api';\r\nimport { removeLocalStorage } from '@/utils/local-storage';\r\n\r\nexport default {\r\n  name: 'address-edit',\r\n\r\n  data() {\r\n    return {\r\n      areaList,\r\n      addressId: 0,\r\n      addressInfo: {}\r\n    };\r\n  },\r\n  created() {\r\n    this.addressId = this.$route.query.addressId;\r\n    if (this.addressId !== -1 && this.addressId !== 0) {\r\n      this.init();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    init() {\r\n      addressDetail({id: this.addressId}).then(res => {\r\n        this.addressInfo = res.data.data;\r\n      });\r\n    },\r\n    onSave(content) {\r\n      addressSave(content).then(res => {\r\n        this.$toast('成功');\r\n        this.$router.go(-1);\r\n      });\r\n    },\r\n    onDelete(content) {\r\n      addressDelete({ id: content.id });\r\n      removeLocalStorage('AddressId')\r\n      this.$router.go(-1);\r\n    },\r\n    goback() {\r\n      this.$router.go(-1);\r\n    }\r\n  },\r\n\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [AddressEdit.name]: AddressEdit\r\n  }\r\n};\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/user/module-address-edit","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar title=\"编辑地址\" left-text=\"返回\" left-arrow @click-left=\"goback\"/>\r\n    <van-address-edit\r\n      style=\"background-color: #fff;\"\r\n      :areaList=\"areaList\"\r\n      :addressInfo=\"addressInfo\"\r\n      show-set-default\r\n      show-delete\r\n      @save=\"onSave\"\r\n      @delete=\"onDelete\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { AddressEdit, NavBar } from 'vant';\r\nimport areaList from './area.json';\r\nimport { addressDetail, addressSave, addressDelete } from '@/api/api';\r\nimport { removeLocalStorage } from '@/utils/local-storage';\r\n\r\nexport default {\r\n  name: 'address-edit',\r\n\r\n  data() {\r\n    return {\r\n      areaList,\r\n      addressId: 0,\r\n      addressInfo: {}\r\n    };\r\n  },\r\n  created() {\r\n    this.addressId = this.$route.query.addressId;\r\n    if (this.addressId !== -1 && this.addressId !== 0) {\r\n      this.init();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    init() {\r\n      addressDetail({id: this.addressId}).then(res => {\r\n        this.addressInfo = res.data.data;\r\n      });\r\n    },\r\n    onSave(content) {\r\n      addressSave(content).then(res => {\r\n        this.$toast('成功');\r\n        this.$router.go(-1);\r\n      });\r\n    },\r\n    onDelete(content) {\r\n      addressDelete({ id: content.id });\r\n      removeLocalStorage('AddressId')\r\n      this.$router.go(-1);\r\n    },\r\n    goback() {\r\n      this.$router.go(-1);\r\n    }\r\n  },\r\n\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [AddressEdit.name]: AddressEdit\r\n  }\r\n};\r\n</script>\r\n"]}]}