{"remainingRequest":"E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\XM\\his-shopping-h5\\src\\views\\user\\refund-list\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\XM\\his-shopping-h5\\src\\views\\user\\refund-list\\index.vue","mtime":1606186248948},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XM\\his-shopping-h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { REFUND_LIST } from '@/api/api';\r\n\r\nimport { Tab, Tabs, Panel, Card, List } from 'vant';\r\n\r\nconst STATUS_TEXT = {\r\n  10: '退款中',\r\n  50: '退款关闭',\r\n  60: '退款成功'\r\n};\r\n\r\nexport default {\r\n  name: 'order-list',\r\n\r\n  data() {\r\n    return {\r\n      listApi: REFUND_LIST,\r\n      activeIndex: 0,\r\n      items: [],\r\n      page: 0,\r\n      limit: 10,\r\n      loading: false,\r\n      finished: false,\r\n      tabsItem: [\r\n        {\r\n          name: '全部',\r\n          status: 0,\r\n          items: []\r\n        },\r\n        {\r\n          name: '退款中',\r\n          status: 10,\r\n          items: []\r\n        },\r\n        {\r\n          name: '退款成功',\r\n          status: 60,\r\n          items: []\r\n        }\r\n      ]\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    onLoad(i, items) {\r\n      this.tabsItem[i].items.push(...items);\r\n    },\r\n    refund_handle(i) {\r\n      const item = this.items[i];\r\n      if (item.status == 10) {\r\n        this.$dialog\r\n          .confirm({\r\n            message: '撤销后将不能再次发起申请，确定要撤销该申请吗？'\r\n          })\r\n          .then(() => {\r\n            this.$toast('已撤销该退款申请');\r\n            this.items[i].status = 50;\r\n          });\r\n      } else {\r\n        // 跳转退款详情\r\n      }\r\n    },\r\n    handleTabClick(index) {\r\n      if (this.activeIndex != index) {\r\n        this.activeIndex = index;\r\n      }\r\n    },\r\n    getStatusText(status) {\r\n      return STATUS_TEXT[status] || '';\r\n    },\r\n    getRefundList(){\r\n\r\n    }\r\n  },\r\n  components: {\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    [Panel.name]: Panel,\r\n    [Card.name]: Card,\r\n    [List.name]: List\r\n  }\r\n};\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/user/refund-list","sourcesContent":["<template>\r\n  <div class=\"refund_list\">\r\n    <van-tabs sticky :active=\"activeIndex\" :swipe-threshold=\"5\" @click=\"handleTabClick\">\r\n      <van-tab v-for=\"(tab, tabIndex) in tabsItem\" :title=\"tab.name\" :key=\"tabIndex\">\r\n        <van-list v-model=\"loading\"\r\n                  :finished=\"finished\"\r\n                  :immediate-check=\"false\"\r\n                  finished-text=\"没有更多了\"\r\n                  @load=\"getRefundList\">\r\n          <van-panel\r\n            v-for=\"(el, i) in tab.items\"\r\n            class=\"order_list--panel\"\r\n            :key=\"i\"\r\n            :title=\"'订单编号: ' + el.id\"\r\n            :status=\"getStatusText(el.status)\"\r\n          >\r\n            <div>\r\n              <van-card\r\n                class=\"order_list--van-card\"\r\n                :key=\"i\"\r\n                :title=\"el.orderItem.item_name\"\r\n                :desc=\"el.orderItem.sku_props_str\"\r\n                :num=\"10000\"\r\n                :price=\"(el.orderItem.price / 100).toFixed(2)\"\r\n                :thumb=\"el.orderItem.pic_url\"\r\n              />\r\n              <div\r\n                class=\"order_list--total\"\r\n              >合计: {{el.refund_fee | yuan}}（含运费{{el.refund_post_fee | yuan}}）</div>\r\n            </div>\r\n            <div slot=\"footer\" style=\"text-align: right;\">\r\n              <van-button\r\n                size=\"small\"\r\n                @click=\"refund_handle(i)\"\r\n              >{{ el.status == 10 ? \"撤销申请\" : \"查看详情\"}}</van-button>\r\n            </div>\r\n          </van-panel>\r\n        </van-list>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { REFUND_LIST } from '@/api/api';\r\n\r\nimport { Tab, Tabs, Panel, Card, List } from 'vant';\r\n\r\nconst STATUS_TEXT = {\r\n  10: '退款中',\r\n  50: '退款关闭',\r\n  60: '退款成功'\r\n};\r\n\r\nexport default {\r\n  name: 'order-list',\r\n\r\n  data() {\r\n    return {\r\n      listApi: REFUND_LIST,\r\n      activeIndex: 0,\r\n      items: [],\r\n      page: 0,\r\n      limit: 10,\r\n      loading: false,\r\n      finished: false,\r\n      tabsItem: [\r\n        {\r\n          name: '全部',\r\n          status: 0,\r\n          items: []\r\n        },\r\n        {\r\n          name: '退款中',\r\n          status: 10,\r\n          items: []\r\n        },\r\n        {\r\n          name: '退款成功',\r\n          status: 60,\r\n          items: []\r\n        }\r\n      ]\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    onLoad(i, items) {\r\n      this.tabsItem[i].items.push(...items);\r\n    },\r\n    refund_handle(i) {\r\n      const item = this.items[i];\r\n      if (item.status == 10) {\r\n        this.$dialog\r\n          .confirm({\r\n            message: '撤销后将不能再次发起申请，确定要撤销该申请吗？'\r\n          })\r\n          .then(() => {\r\n            this.$toast('已撤销该退款申请');\r\n            this.items[i].status = 50;\r\n          });\r\n      } else {\r\n        // 跳转退款详情\r\n      }\r\n    },\r\n    handleTabClick(index) {\r\n      if (this.activeIndex != index) {\r\n        this.activeIndex = index;\r\n      }\r\n    },\r\n    getStatusText(status) {\r\n      return STATUS_TEXT[status] || '';\r\n    },\r\n    getRefundList(){\r\n\r\n    }\r\n  },\r\n  components: {\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    [Panel.name]: Panel,\r\n    [Card.name]: Card,\r\n    [List.name]: List\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.refund_list {\r\n  padding-bottom: 0;\r\n\r\n  &--footer_btn {\r\n    text-align: right;\r\n  }\r\n  &--panel {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  &--van-card {\r\n    background-color: #fafafa;\r\n  }\r\n\r\n  &--total {\r\n    text-align: right;\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n"]}]}